/* fuzzaldrin-plus - v0.3.1 - @license: MIT; @author: Jean Christophe Roy; @site: https://github.com/jeancroy/fuzzaldrin-plus */
!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.fuzzaldrin=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f;e=a("./scorer"),c=e.pathSeparator,d=function(a){return a.candidate},f=function(a,b){return b.score-a.score},b.exports=function(a,b,c){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(null==c&&(c={}),r=[],k=c.key,m=c.maxResults,l=c.maxInners,g=c.allowErrors,j=c.isPath,u=c.useExtensionBonus,n=c.optCharRegEx,o=c.pathSeparator,s=null!=l&&l>0?l:a.length,h=null!=k,p=e.prepQuery(b,c),v=0,w=a.length;v<w&&(i=a[v],t=h?i[k]:i,!(t&&(q=e.score(t,b,p,g,j,u,o),q>0&&(r.push({candidate:i,score:q}),!--s))));v++);return r.sort(f),a=r.map(d),null!=m&&(a=a.slice(0,m)),a}}).call(this)},{"./scorer":4}],2:[function(a,b,c){(function(){var c,d,e,f,g;g=a("./scorer"),c=a("./filter"),d=a("./matcher"),f=null,b.exports={filter:function(a,b,d){return null==d&&(d={}),(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?(d=e(d),c(a,b,d)):[]},prepQuery:function(a,b){return null==b&&(b={}),b=e(b),g.prepQuery(a,b)},score:function(a,b,c,d){var h,i,j,k,l;return null==d&&(d={}),(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(d=e(d),h=d.allowErrors,i=d.isPath,l=d.useExtensionBonus,j=d.optCharRegEx,k=d.pathSeparator,null==c&&(c=f&&f.query===b?f:f=g.prepQuery(b,d)),g.score(a,b,c,h,i,l,k)):0},match:function(a,b,c,h){var i,j,k,l,m,n,o,p,q;return null==h&&(h={}),a&&b?a===b?function(){q=[];for(var b=0,c=a.length;0<=c?b<c:b>c;0<=c?b++:b--)q.push(b);return q}.apply(this):(h=e(h),i=h.allowErrors,k=h.isPath,p=h.useExtensionBonus,m=h.optCharRegEx,n=h.pathSeparator,null==c&&(c=f&&f.query===b?f:f=g.prepQuery(b,h)),i||g.isMatch(a,c.core_lw,c.core_up)?(o=a.toLowerCase(),l=d.match(a,o,c),0===l.length?l:(a.indexOf(n)>-1&&(j=d.basenameMatch(a,o,c,n),l=d.mergeMatches(l,j)),l)):[]):[]}},e=function(a){return null==a.allowErrors&&(a.allowErrors=!1),null==a.isPath&&(a.isPath=!0),null==a.useExtensionBonus&&(a.useExtensionBonus=!0),null==a.pathSeparator&&(a.pathSeparator=g.pathSeparator),null==a.optCharRegEx&&(a.optCharRegEx=null),a}}).call(this)},{"./filter":1,"./matcher":3,"./scorer":4}],3:[function(a,b,c){(function(){var b;b=a("./scorer"),c.basenameMatch=function(a,b,d,e){var f,g,h;for(h=a.length-1;a[h]===e;)h--;if(f=a.lastIndexOf(e,h),f===-1)return[];for(g=d.depth;g-- >0;)if(f=a.lastIndexOf(e,f-1),f===-1)return[];return f++,h++,c.match(a.slice(f,h),b.slice(f,h),d,f)},c.mergeMatches=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,h=b.length,0===h)return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];d<=c&&++f<h;)d<c&&i.push(d),d=b[f];i.push(c)}for(;f<h;)i.push(b[f++]);return i},c.match=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(null==e&&(e=0),w=d.query,x=d.query_lw,r=a.length,u=w.length,j=b.scoreAcronyms(a,c,w,x).score,A=new Array(u),n=new Array(u),h=0,i=1,g=2,f=3,E=new Array(r*u),v=-1,q=-1;++q<u;)A[q]=0,n[q]=0;for(p=-1;++p<r;)for(y=0,B=0,m=0,C=c[p],q=-1;++q<u;)o=0,k=0,z=B,x[q]===C&&(D=b.isWordStart(p,a,c),o=m>0?m:b.scoreConsecutives(a,c,w,x,p,q,D),k=z+b.scoreCharacter(p,q,D,j,o)),B=A[q],m=n[q],y>B?t=g:(y=B,t=i),k>y?(y=k,t=f):o=0,A[q]=y,n[q]=o,E[++v]=y>0?t:h;for(p=r-1,q=u-1,v=p*u+q,l=!0,s=[];l&&p>=0&&q>=0;)switch(E[v]){case i:p--,v-=u;break;case g:q--,v--;break;case f:s.push(p+e),q--,p--,v-=u+1;break;default:l=!1}return s.reverse(),s}}).call(this)},{"./scorer":4}],4:[function(a,b,c){(function(a){(function(){var b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;g=c.pathSeparator=a&&"win32"===a.platform?"\\":"/",G=150,s=20,D=13,E=85,i=1.2,q=.75,r=/[ _\-:\/\\]/g,c.coreChars=e=function(a,b){return null==b&&(b=r),a.replace(b,"")},c.score=function(a,b,c,d,e,f,g){var h,i;return d||m(a,c.core_lw,c.core_up)?(i=a.toLowerCase(),h=y(a,i,c),e&&(h=z(a,i,c,h,f,g)),Math.ceil(h)):0},d=function(){function a(a,b){var c,d,g;return g=null!=b?b:{},c=g.optCharRegEx,d=g.pathSeparator,a&&a.length?(this.query=a,this.query_lw=a.toLowerCase(),this.core=e(a,c),this.core_lw=this.core.toLowerCase(),this.core_up=F(this.core),this.depth=f(a,a.length,d),void(this.ext=j(this.query_lw))):null}return a}(),c.prepQuery=function(a,b){return new d(a,b)},c.isMatch=m=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b.charCodeAt(e),i=c.charCodeAt(e);++d<f&&(j=a.charCodeAt(d),j!==h&&j!==i););if(d===f)return!1}return!0},y=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,r,s,y,z,A,B,D,E,F,G,H,I;if(y=c.query,z=c.query_lw,l=a.length,r=y.length,d=t(a,b,y,z),e=d.score,d.count===r)return w(r,l,e,d.pos);if(s=b.indexOf(z),s>-1)return x(a,b,y,z,s,r,l);for(E=new Array(r),h=new Array(r),I=C(r,l),m=Math.ceil(q*r)+5,n=m,k=-1;++k<r;)E[k]=0,h[k]=0;for(j=b.indexOf(z[0]),j>-1&&j--,o=b.lastIndexOf(z[r-1],l),o>j&&(l=o+1);++j<l;)for(B=0,D=0,g=0,G=b[j],A=!0,k=-1;++k<r;){if(F=E[k],F>B&&(B=F),i=0,z[k]===G)if(H=p(j,a,b),i=g>0?g:v(a,b,y,z,j,k,H),f=D+u(j,k,H,e,i),f>B)B=f,n=m;else{if(A&&--n<=0)return E[r-1]*I;A=!1}D=F,g=h[k],h[k]=i,E[k]=B}return B*I},c.isWordStart=p=function(a,b,c){var d,e;return 0===a||(d=b[a],e=b[a-1],n(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=o=function(a,b,c,d){var e,f;return a===d-1||(e=b[a],f=b[a+1],n(f)||e===c[a]&&f!==c[a+1])},n=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},B=function(a){var b;return a<s?(b=s-a,100+b*b):Math.max(100+s-a,0)},C=function(a,b){return E/(E+Math.abs(b-a))},w=function(a,b,c,d){return 2*a*(G*c+B(d))*C(a,b)},c.scorePattern=A=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=u=function(a,b,c,d,e){var f;return f=B(a),c?f+G*((d>e?d:e)+10):f+G*e},c.scoreConsecutives=v=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;for(i=a.length,k=c.length,j=i-e,l=k-f,h=j<l?j:l,m=0,n=0,c[f]===a[e]&&m++;++n<h&&d[++f]===b[++e];)c[f]===a[e]&&m++;return 1===n?1+2*m:A(n,k,m,g,o(e,a,b,i))},c.scoreExactMatch=x=function(a,b,c,d,e,f,g){var h,i,j,k,l;for(l=p(e,a,b),l||(j=b.indexOf(d,e+1),j>-1&&(l=p(j,a,b),l&&(e=j))),i=-1,k=0;++i<f;)c[e+i]===a[i]&&k++;return h=o(e+f-1,a,b,g),w(f,g,A(f,f,k,l,h),e)},b=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),h=new b(0,.1,0),c.scoreAcronyms=t=function(a,c,d,e){var f,g,i,j,k,m,o,q,r,s,t;if(k=a.length,m=d.length,!(k>1&&m>1))return h;for(f=0,s=0,t=0,q=0,i=-1,j=-1;++j<m;){if(o=e[j],n(o)){if(i=c.indexOf(o,i+1),i>-1){s++;continue}break}for(;++i<k;)if(o===c[i]&&p(i,a,c)){d[j]===a[i]&&q++,t+=i,f++;break}if(i===k)break}return f<2?h:(g=f===m&&l(a,c,d,f),r=A(f,m,q,!0,g),new b(r,t/f,f+s))},l=function(a,b,c,d){var e,f,g,h;if(g=a.length,h=c.length,e=0,g>12*h)return!1;for(f=-1;++f<g;)if(p(f,a,b)&&++e>d)return!1;return!0},z=function(a,b,c,d,e,g){var h,j,l,m,n,o;if(0===d)return 0;for(n=a.length-1;a[n]===g;)n--;if(l=a.lastIndexOf(g,n),o=1,e&&(o+=k(b,c.ext,l,n,2),d*=o),l===-1)return d;for(m=c.depth;l>-1&&m-- >0;)l=a.lastIndexOf(g,l-1);return j=l===-1?d:o*y(a.slice(l+1,n+1),b.slice(l+1,n+1),c),h=.5*D/(D+f(a,n+1,g)),h*j+(1-h)*d*C(0,i*(n-l))},c.countDir=f=function(a,b,c){var d,e;if(b<1)return 0;for(d=0,e=-1;++e<b&&a[e]===c;);for(;++e<b;)if(a[e]===c)for(d++;++e<b&&a[e]===c;);return d},j=function(a){var b;return b=a.lastIndexOf("."),b<0?"":a.substr(b+1)},k=function(a,b,c,d,e){var f,g,h,i;if(!b.length)return 0;if(i=a.lastIndexOf(".",d),!(i>c))return 0;for(h=b.length,f=d-i,f<h&&(h=f,f=b.length),i++,g=-1;++g<h&&a[i+g]===b[g];);return 0===g&&e>0?.9*k(a,b,c,i-2,e-1):g/f},F=function(a){var b,c,d,e;for(c="",d=0,e=a.length;d<e;d++)b=a[d],c+=b.toUpperCase()[0];return c}}).call(this)}).call(this,a("_process"))},{_process:5}],5:[function(a,b,c){function d(){m&&k&&(m=!1,k.length?l=k.concat(l):n=-1,l.length&&e())}function e(){if(!m){var a=h(d);m=!0;for(var b=l.length;b;){for(k=l,l=[];++n<b;)k&&k[n].run();n=-1,b=l.length}k=null,m=!1,i(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i,j=b.exports={};!function(){try{h=setTimeout}catch(a){h=function(){throw new Error("setTimeout is not defined")}}try{i=clearTimeout}catch(a){i=function(){throw new Error("clearTimeout is not defined")}}}();var k,l=[],m=!1,n=-1;j.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];l.push(new f(a,b)),1!==l.length||m||h(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=g,j.addListener=g,j.once=g,j.off=g,j.removeListener=g,j.removeAllListeners=g,j.emit=g,j.binding=function(a){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(a){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}]},{},[2])(2)});